{"generatedAt":1679322225977,"generateTime":55,"contents":[{"_path":"/using-lottie-files-with-nuxtjs","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Using Lottie files with nuxt.js","description":"Many times using animations on our website is not an easy job, so in this blog we are going to learn how to use Lottie animations within our project with nuxt.js easily.","uuid":"5899b8f0-fa1a-403f-aaaa-dcf7bd030570","allowComents":false,"isPublished":true,"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"what-is-a-lottie"},"children":[{"type":"text","value":"What is a Lottie?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A Lottie is a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JSON"}]},{"type":"text","value":" file containing vector settings of our animations, this format allows us to maintain a high quality and performance encoded animation, showing fidelity and compatibility between different devices, see the "},{"type":"element","tag":"a","props":{"href":"https://lottiefiles.com/what-is-lottie","rel":["nofollow"]},"children":[{"type":"text","value":"official guide"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://assets5.lottiefiles.com/packages/lf20_rbtawnwz.json","rel":["nofollow"]},"children":[{"type":"text","value":"View Lottie file example ->"}]}]},{"type":"element","tag":"h2","props":{"id":"installing-the-lottie-web-package"},"children":[{"type":"text","value":"Installing the lottie-web package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are going to use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lottie-web"}]},{"type":"text","value":" package which is provided and sponsored by "},{"type":"element","tag":"a","props":{"href":"https://airbnb.io","rel":["nofollow"]},"children":[{"type":"text","value":"airbnb.io"}]},{"type":"text","value":", to configure it you just need to add the dependency with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"yarn add lottie-web\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn add lottie-web\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"using-the-package"},"children":[{"type":"text","value":"Using the package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First of all, we are going to import the package into our component."}]},{"type":"element","tag":"code","props":{"code":"import lottie from 'lottie-web';\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import lottie from 'lottie-web';\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now we have the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lottie"}]},{"type":"text","value":" reference which can be used anywhere in the code, for that we are going to create a method that will allow us to generate an instance of our animation:"}]},{"type":"element","tag":"code","props":{"code":"loadLottie(reference, file) {\n  // Lottie config instance\n  const animation = lottie.loadAnimation({\n    container: this.$refs[reference],\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n    path: `${window.location.origin}/animations/${file}.json`,\n  });\n\n  // Init animation\n  animation.play();\n}\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"loadLottie(reference, file) {\n  // Lottie config instance\n  const animation = lottie.loadAnimation({\n    container: this.$refs[reference],\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n    path: `${window.location.origin}/animations/${file}.json`,\n  });\n\n  // Init animation\n  animation.play();\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's review some important points:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"container"}]},{"type":"text","value":": Dom element on which to render the animation."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"renderer"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svg"}]},{"type":"text","value":" / "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"canvas"}]},{"type":"text","value":" / "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"html"}]},{"type":"text","value":" to set the renderer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"loop"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" / "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" / "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"autoplay"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" / "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" it will start playing as soon as it is ready."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":": The relative path to the animation object. (animationData and path are mutually exclusive)."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See more information about the "},{"type":"element","tag":"a","props":{"href":"http://airbnb.io/lottie/#/web","rel":["nofollow"]},"children":[{"type":"text","value":"api"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"text","value":"\n  "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" receives the relative path of your animation, so all your animations must be inside the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"static"}]},{"type":"text","value":" folder, for example: "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"static/animations/{file-name}.json"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"loadLottie(...)"}]},{"type":"text","value":" method receives 2 parameters:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The first parameter is an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HTML"}]},{"type":"text","value":" element that will serve as a container for our animation:"}]}]},{"type":"element","tag":"code","props":{"code":"<div ref=\"animation-container\"></div>\n","language":"html","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<div ref=\"animation-container\"></div>\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The second parameter is the name of the file without the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".json"}]},{"type":"text","value":" extension."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To use the animation we are going to use the "},{"type":"element","tag":"a","props":{"href":"https://vuejs.org/api/options-lifecycle.html#mounted","rel":["nofollow"]},"children":[{"type":"text","value":"mounted"}]},{"type":"text","value":" hook. This will run our animation once the page loads."}]},{"type":"element","tag":"code","props":{"code":"mounted() {\n  this.loadLottie('animation-container', 'animation-1');\n}\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mounted() {\n  this.loadLottie('animation-container', 'animation-1');\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"That's it!"}]},{"type":"text","value":" Now we will have as a result a beautiful animation playing on our site:"}]},{"type":"element","tag":"lottie","props":{"src":"78790-hello"},"children":[]},{"type":"element","tag":"h2","props":{"id":"animation-events"},"children":[{"type":"text","value":"Animation events"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"From here on out the only limitation is your imagination. You can create different configurations and customizations thanks to the extensive "},{"type":"element","tag":"a","props":{"href":"https://airbnb.io/lottie/#/web","rel":["nofollow"]},"children":[{"type":"text","value":"configuration api"}]},{"type":"text","value":" provided by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lottie-web"}]},{"type":"text","value":" package, and even make use of the different events as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"onComplete, onLoopComplete, onEnterFrame, onSegmentStart"}]},{"type":"text","value":", for example:"}]},{"type":"element","tag":"code","props":{"code":"animation.addEventListener('loopComplete', () => {\n  console.log('Execute function...');\n});\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"animation.addEventListener('loopComplete', () => {\n  console.log('Execute function...');\n});\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is just a small usage reference. Explore your imagination and feel free to "},{"type":"element","tag":"a","props":{"href":"mailto:hello@josueayala.me"},"children":[{"type":"text","value":"send me"}]},{"type":"text","value":" your amazing projects using this beautiful library."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"what-is-a-lottie","depth":2,"text":"What is a Lottie?"},{"id":"installing-the-lottie-web-package","depth":2,"text":"Installing the lottie-web package"},{"id":"using-the-package","depth":2,"text":"Using the package"},{"id":"animation-events","depth":2,"text":"Animation events"}]}},"_type":"markdown","_id":"content:using-lottie-files-with-nuxtjs.md","_source":"content","_file":"using-lottie-files-with-nuxtjs.md","_extension":"md"}],"navigation":[{"title":"Using Lottie files with nuxt.js","_path":"/using-lottie-files-with-nuxtjs"}]}